---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by zheng.
--- DateTime: 2019/5/19 0:46
---

local SceneItem = require('Game.Modules.Battle.Items.SceneItem')

---@class Game.Modules.Battle.Items.RenderItem : Game.Modules.Battle.Items.SceneItem
---@field renderObj UnityEngine.GameObject
local RenderItem = class("Game.Modules.Battle.Items.RenderItem",SceneItem)

function RenderItem:Ctor(sceneItemInfo)
    RenderItem.super.Ctor(self, sceneItemInfo)
    self:LoadRenderObj()
end

function RenderItem:LoadRenderObj()
    if self.sceneItemInfo.prefabUrl and self.sceneItemInfo.prefabUrl ~= "" then
        self.renderObj = Instantiate(self.sceneItemInfo.prefabUrl,self.transform)
        self.renderObj:ResetTransform()
        self:OnSetParent()
        self:OnLoadedRenderObj()
    end
end

function RenderItem:OnSetParent()
    self.transform:SetParent(World.root.transform)
end

function RenderItem:OnLoadedRenderObj()
    self.renderObj.transform.localScale = Vector3.one * self.sceneItemInfo.scale
end

---@param visible boolean
function RenderItem:SetRenderObjVisible(visible)
    self.renderObj:SetActive(visible)
end


function RenderItem:Dispose()
    RenderItem.super.Dispose(self)
    destroy(self.gameObject)
end

return RenderItem
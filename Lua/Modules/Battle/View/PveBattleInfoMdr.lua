---
--- Generated by Tools
--- Created by zheng.
--- DateTime: 2020-06-27-23:51:44
---

local BaseMediator = require("Game.Core.Ioc.BaseMediator")
---@class Game.Modules.Battle.View.PveBattleInfoMdr : Game.Core.Ioc.BaseMediator
---@field battleModel Game.Modules.Battle.Model.BattleModel
---@field battleService Game.Modules.Battle.Service.BattleService
local PveBattleInfoMdr = class("Game.Modules.Battle.View.PveBattleInfoMdr",BaseMediator)

function PveBattleInfoMdr:OnInit()
    self.processText = self.gameObject:GetText("TopLeft/Progress/Text")
    self.dropMoney = self.gameObject:GetText("TopLeft/DropMoney/Text")
    self.dropItems = self.gameObject:GetText("TopLeft/DropItems/Text")
end

function PveBattleInfoMdr:RegisterListeners()
    AddEventListener(self, Event.UPDATE, self.Update, self)
end

function PveBattleInfoMdr:Update()
    self.processText.text = string.format("%s/%s", self.battleModel.currAreaId, #self.battleModel.currCheckPointData.areas)
end

function PveBattleInfoMdr:OnRemove()
    RemoveEventListener(self, Event.UPDATE, self.Update, self)
end

return PveBattleInfoMdr

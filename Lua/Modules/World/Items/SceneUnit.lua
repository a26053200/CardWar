---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by zhengnan.
--- DateTime: 2019/5/2 15:55
--- 所有场景单位的基类
---

local LuaObject = require("Betel.LuaObject")

---@class Game.Modules.World.Items.SceneUnit : Betel.LuaObject
---@field sid number 唯一id
---@field context WorldContext
---@field luaReflect Framework.LuaReflect
---@field sceneItemVo Game.Modules.World.Vo.SceneUnitVo
---@field gameObject UnityEngine.GameObject
---@field transform UnityEngine.Transform
local SceneUnit = class("Game.Modules.World.Items.SceneUnit", LuaObject)

local S_ID = 0

---@param sceneItemData Game.Modules.World.Vo.SceneUnitVo
function SceneUnit:Ctor(sceneItemData)
    SceneUnit.super.Ctor(self)
    self.sceneItemVo = sceneItemData
    if self.sceneItemVo.sid == nil then
        S_ID = S_ID + 1
        self.sceneItemVo.sid = S_ID
    end
    self.sid = self.sceneItemVo.sid

    self.gameObject = GameObject.New("SceneUnit_" .. self.sid)
    self.transform = self.gameObject.transform
    self:OnInitialize()

    self.luaReflect = self.gameObject:AddComponent(typeof(Framework.LuaReflect))
    --self:EnableDestroyListener()
end

---@param context WorldContext
function SceneUnit:SetContext(context)
    self.context = context
end

function SceneUnit:SetParent()

end

function SceneUnit:OnInitialize()

end

--回收
function SceneUnit:Recovery()

end

--释放资源
function SceneUnit:Dispose()
    if self.luaReflect then
        self.luaReflect:Dispose()
        self.luaReflect = nil
    end
end

function SceneUnit:Destroy()

end

function SceneUnit:OnDestroy()
    SceneUnit.super.OnDestroy(self)
end


return SceneUnit
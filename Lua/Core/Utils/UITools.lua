---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by zheng.
--- DateTime: 2018/7/17 23:16
---

local UITools = {}

--纵向滚动单列列表
function UITools.CreateVScrollList(go,scrollListName,itemRenderHandler,scrollOverHandler)
    return UITools.CreateScrollList(go,scrollListName,itemRenderHandler,scrollOverHandler,1, false)
end

--横向滚动单列列表
function UITools.CreateHScrollList(go,scrollListName,itemRenderHandler,scrollOverHandler)
    return UITools.CreateScrollList(go,scrollListName,itemRenderHandler,scrollOverHandler,1, true)
end

--纵向滚动多列列表
function UITools.CreateGridList(go,scrollListName,colNum, itemRenderHandler,scrollOverHandler)
    return UITools.CreateScrollList(go,scrollListName,itemRenderHandler,scrollOverHandler,colNum, false)
end

function UITools.CreateScrollList(go, scrollListName, itemRenderHandler, scrollOverHandler, colNum, isHorizontal)
    local srvList = go:FindChild(scrollListName):GetCom("ScrollList") ---@type ScrollList
    LuaHelper.AddScrollListOnItemRender(srvList,function(index, item)
        if isNull(go) then  return  end
        if itemRenderHandler ~= nil then
            itemRenderHandler(index, item)
        end
    end)
    LuaHelper.AddScrollListOnScrollOver(srvList,function(index)
        if isNull(go) then  return  end
        if scrollOverHandler ~= nil then
            scrollOverHandler(index)
        end
        print("AddScrollListOnScrollOver")
        if isHorizontal then
            srvList.gameObject:GetCom("ScrollRect").vertical = false
        else
            srvList.gameObject:GetCom("ScrollRect").horizontal = false
        end
    end)
    local co = nil
    co = coroutine.start(function ()
        if isNull(go) then
            coroutine.stop(co)
            return
        end

        srvList.MaxPerLine = colNum
        coroutine.step(1)
        srvList:BackTop()
    end)
    return srvList
end

return UITools
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by zhengnan.
--- DateTime: 2018/6/19 18:18
---

local LuaObject = require('Betel.LuaObject')
---@class Game.Core.Ioc.BaseService : Betel.LuaObject
local BaseService = class("BaseService", LuaObject)

function BaseService:Ctor()

end

--Json请求
---@param action table
---@param param table
---@param callback func
---@param failCallback func
function BaseService:JsonRequest(action, param, callback, failCallback)
    nmgr:Request(action, param, function(response)
        if response.state == 0 then
            if callback then
                callback(response.data)
            end
        else
            if response.data.msg then
                logError(response.data.msg)
                Tips.Show(response.data.msg)
            end
            if failCallback then
                failCallback(response)
            end
        end
    end)
end

return BaseService
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by zhengnan.
--- DateTime: 2019/5/6 17:35
---

---@class AnimInfo
---@field id            string
---@field animName      string
---@field animEffect    string
---@field accountPoint  number
---@field animSpeed     number

---@class PerformanceInfo
---@field id string                     id
---@field intrc string                  描述
---@field accountType AccountType
---@field animInfo AnimInfo   结算动作
---@field effect string                 开始特效
---@field shake string      开始特效
---@field type string       类型
---@field gridSelect GridSelectType
---@field interval number   效果触发间隔
---@field duration number   持续时间
---@field delay number      延时
---@field times number      次数
---@field param string      表现相关参数
---@field accounts table<number, AccountInfo>

local PerformanceConfig = {}

---@return PerformanceInfo
function PerformanceConfig.Get(name)
    if PerformanceConfig.data == nil then
        PerformanceConfig.data = require("Game.Data.Excel.Performance")
    end
    if PerformanceConfig.animData == nil then
        PerformanceConfig.animData = require("Game.Data.Excel.Anim")
    end
    local info = PerformanceConfig.data.Get(name) ---@type PerformanceInfo
    if info == nil then
        logError(string.format("There is not Performance info named %s!", name))
    end
    if isString(info.animInfo) then
        info.animInfo = PerformanceConfig.animData.Get(info.animInfo)
    end

    --技能结算信息
    info.accounts = AccountConfig.GetList(info.id)
    return info
end

return PerformanceConfig
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by zhengnan.
--- DateTime: 2019/7/25 13:36
---


--场景关卡信息
---@class CheckPointData
---@field id string
---@field name string
---@field type string 类型
---@field chapter number 所属章节
---@field chapter number 所属章节
---@field level string
---@field cameraDistance number
---@field cameraAngle UnityEngine.Vector3
---@field cameraOffset UnityEngine.Vector3
---@field layoutPrefabUrl string
---@field layoutPoints string
---@field layoutDistance number 对阵距离
---@field layoutGridSize number 对阵格子大小
---@field light string
---@field areas table<number, GridAreaInfo>

local CheckPointConfig = {}

CheckPointConfig.data = nil

---@return CheckPointData
function CheckPointConfig.Get(name)
    if CheckPointConfig.data == nil then
        CheckPointConfig.data = require("Game.Data.Excel.CheckPoint")
    end
    local info = CheckPointConfig.data.Get(name) ---@type CheckPointData
    if info == nil then
        logError(string.format("There is not CheckPoint info named %s!", name))
    end
    if isString(info.cameraAngle) then
        info.cameraAngle = Tool.ToVector3(info.cameraAngle)
    end
    if isString(info.cameraOffset) then
        info.cameraOffset = Tool.ToVector3(info.cameraOffset)
    end
    return info
end

---@return CheckPointData
function CheckPointConfig.GetBattleSceneData(name)
    local info = CheckPointConfig.Get(name)
    info = ObjectUtil.clone(info)--克隆数据
    info.areas = BattleConfig.GetAreas(info.id)
    return info
end

return CheckPointConfig